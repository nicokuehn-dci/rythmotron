/* Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* Globale CSS Variablen für das Theme */
:root {
    --bg-base: #0f0f11; /* From your tailwind config */
    --bg-panel: #151518;
    --bg-surface: #1c1c1f;
    --bg-surface-hover: #27272a;
    --border-color: #27272a;
    --border-color-light: #71717a; /* Zinc 500 */
    --text-primary: #f4f4f5;
    --text-secondary: #a1a1aa;
    --text-placeholder: #71717a;
    --accent: #7c3aed;      /* From your tailwind config */
    --accent-hover: #8b5cf6;
    --accent-active: #6d28d9;
    --accent-glow: theme(colors.violet.500 / 70%);
    --red-glow: theme(colors.red.500 / 70%);
    --green-glow: theme(colors.green.500 / 70%);
    --blue-glow: theme(colors.blue.500 / 70%);

    /* Pad Glow Farben als Variablen */
    --glow-orange-500: theme(colors.orange.500);
    --glow-yellow-400: theme(colors.yellow.400);
    --glow-lime-400: theme(colors.lime.400);
    --glow-green-500: theme(colors.green.500);
    --glow-teal-500: theme(colors.teal.500);
    --glow-cyan-500: theme(colors.cyan.500);
    --glow-sky-500: theme(colors.sky.500);
    --glow-blue-500: theme(colors.blue.500);
    --glow-indigo-400: theme(colors.indigo.400);
    --glow-purple-500: theme(colors.purple.500);
    --glow-fuchsia-500: theme(colors.fuchsia.500);
    --glow-pink-500: theme(colors.pink.500);

    /* Standard Font */
    font-family: 'Inter', 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

body {
   background-color: var(--bg-base);
   color: var(--text-primary);
   /* Verhindert Scrollbalken durch pures Layout */
   overflow: hidden;
}

/* Helper für 16 Spalten Grid */
.grid-cols-16 {
    grid-template-columns: repeat(16, minmax(0, 1fr));
}

/* Animation for pad and button presses */
.active-press {
  transform: scale(0.97);
  filter: brightness(1.2);
}

/* Glow effects for active elements */
.glow-accent {
  box-shadow: 0 0 12px theme('colors.rytm-accent');
}

/* Display screen styles */
.screen-panel {
  background-color: theme('colors.rytm-panel');
  box-shadow: inset 0 0 15px rgba(0, 0, 0, 0.4);
  border-radius: 4px;
}

/* Interface layout styles */
.interface-layout {
  display: grid;
  height: 100vh; /* Nimmt die volle Höhe ein */
  max-height: 100vh; /* Verhindert übermäßiges Wachstum */
  padding: clamp(0.5rem, 1.5vmin, 1rem); /* Responsives Padding */
  gap: clamp(0.5rem, 1.5vmin, 1rem) clamp(0.75rem, 2.5vmin, 1.5rem); /* Responsive Gaps */
  grid-template-columns: minmax(auto, 40%) 1fr; /* Linke Spalte flexibel, aber max 40%, rechte füllt */
  grid-template-rows: auto 1fr auto; /* Top, Middle (stretch), Bottom */
  grid-template-areas:
    "top-left         top-right"
    "pads             display-controls"
    "bottom-left      sequencer-bottom-right";
  background-color: var(--bg-base);
  color: var(--text-primary);
  font-family: sans-serif;
  overflow: hidden; /* Wichtig: Verhindert Scrollen der Hauptseite */
}

/* --- Area Styling & Alignment --- */
.area-top-left { grid-area: top-left; display: flex; align-items: flex-end; gap: clamp(0.5rem, 2vmin, 1rem); padding-bottom: 0.25rem; }
.area-top-right { grid-area: top-right; display: flex; justify-content: space-between; align-items: flex-end; gap: 1rem; padding-bottom: 0.25rem; }
.area-pads { grid-area: pads; display: flex; justify-content: center; align-items: center; min-height: 0; padding: clamp(0.5rem, 2vmin, 1rem); }
.area-display-controls { grid-area: display-controls; display: flex; flex-direction: column; gap: clamp(0.75rem, 2vmin, 1.5rem); min-height: 0; padding-top: clamp(0.5rem, 2vmin, 1rem); }
.area-bottom-left { grid-area: bottom-left; display: flex; flex-direction: column; justify-content: flex-end; align-items: flex-start; gap: 0.5rem; padding-bottom: 0.25rem; }
.area-sequencer-bottom-right { grid-area: sequencer-bottom-right; display: grid; grid-template-columns: 1fr auto; gap: 1rem; align-items: flex-end; padding-top: 0.5rem; }
.area-sequencer { grid-column: 1 / 2; overflow-x: auto; /* Falls Sequencer breiter als Platz */ }
.area-bottom-right { grid-column: 2 / 3; display: flex; flex-direction: column; align-items: flex-end; justify-content: flex-end; gap: 0.5rem; padding-bottom: 0.25rem;}

.qperf-stack, .func-stack, .save-stack, .misc-stack { display: flex; flex-direction: column; align-items: center; gap: 0.25rem; }
.mode-buttons-container { display: flex; flex-direction: column; align-items: flex-start; gap: 0.375rem; }
.transport-controls { display: flex; gap: 0.5rem; }
.pad-grid { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: clamp(0.5rem, 2vmin, 0.75rem); width: 100%; max-width: 360px; /* Angepasste max. Breite */ }
.display-nav-group { display: flex; align-items: center; justify-content: center; gap: clamp(1rem, 4vmin, 2rem); margin-bottom: auto; /* Drückt nach oben */ }
.nav-controls { display: grid; grid-template-columns: repeat(3, auto); grid-template-rows: repeat(4, auto); gap: 0.375rem; justify-items: center; }
.knobs-params-group { display: flex; flex-direction: column; align-items: center; gap: 1rem; margin-top: auto; /* Drückt nach unten */ }
.knob-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem 0.5rem; }
.param-pages { display: flex; gap: 0.375rem; flex-wrap: wrap; justify-content: center; }
.sequencer-grid { display: grid; grid-template-columns: repeat(16, minmax(var(--trig-min-width, 30px), 1fr)); gap: 0.25rem; padding-bottom: 0.25rem; /* Platz für Labels */ }
.sequencer-page-controls { display: flex; align-items: center; gap: 0.5rem; }
.led-indicators { display: flex; gap: 3px; align-items: center; }
.led-page { width: 6px; height: 6px; border-radius: 50%; background-color: var(--border-color); transition: background-color 0.2s; }
.led-page.active { background-color: var(--accent); }

:root { --trig-min-width: 28px; } /* Minimale Breite für Trig Buttons */

:global(.knob-container label) { font-size: 0.6rem; }
:global(.knob-container output) { font-size: 0.55rem; }
:global(.pad) { font-size: 0.6rem; }
:global(.trig-button .trig-label) { font-size: 0.45rem; }
:global(.menu-button .lbl-main) { font-size: 0.55rem;}
:global(.menu-button .lbl-sub) { font-size: 0.45rem;}
:global(.param-page-button .lbl-main) { font-size: 0.5rem;}
:global(.param-page-button .lbl-sub) { font-size: 0.4rem;}
:global(.nav-button) { width: 2rem; height: 1.75rem; font-size: 0.65rem;}
:global(.nav-button svg) { width: 12px; height: 12px; }
:global(.transport-button) { width: 2.25rem; height: 2.25rem;}
:global(.transport-button svg) { width: 16px; height: 16px;}
:global(.action-button) { height: 2rem; font-size: 0.65rem;}
:global(.small-button) { height: 1.5rem; font-size: 0.55rem;}

@media (max-width: 1024px) {
  .interface-layout {
    grid-template-columns: 1fr; /* Single column on smaller screens */
    grid-template-rows: auto auto 1fr auto auto; /* Adjust rows */
    grid-template-areas:
      "top-left"
      "top-right"
      "display-controls" /* Display/knobs might come before pads */
      "pads"
      "sequencer-bottom-right"; /* Combined bottom area */
    height: auto; /* Allow content height */
    overflow-y: auto; /* Allow scrolling if needed */
  }
  .area-bottom-left { display: none; } /* Hide less critical buttons maybe */
  .area-sequencer-bottom-right { grid-template-columns: 1fr; gap: 0.5rem; } /* Stack sequencer and buttons */
  .area-bottom-right { align-items: center; }
  .pad-grid { max-width: none; }
  .knob-grid { grid-template-columns: repeat(4, 1fr); } /* Ensure knobs stay in 4 columns */
  .display-nav-group { flex-direction: column; gap: 0.5rem; }
}
